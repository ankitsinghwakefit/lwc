<template>
    <lightning-card>
        <lightning-button label="Add New Task" onclick={handleNewTodo} slot="actions"></lightning-button>
        <h3 slot="title">
            <lightning-icon icon-name="utility:connected_apps" size="small"></lightning-icon>
            My Todos...
        </h3>
    </lightning-card>

    <template if:true={isModalOpen}>
        <c-todo-modal edit-todo-data={editData} ondeletedata={deleteTodo} onhandleclosemodal={handleCloseModal} onnewdata={saveNewTask}></c-todo-modal>
    </template>

    <lightning-layout multiple-rows="true">
        <lightning-layout-item class="slds-p-around_xx-small" size="12">
          <lightning-layout>
              <lightning-layout-item class="slds-p-around_xx-small" size=4>
                <div class="slds-align_absolute-center"><lightning-badge label="New Tasks" class="slds-theme_error" icon-name="standard:event"></lightning-badge></div>
                <template for:each={newTodos} for:item="todoItem">
                    <div key={todoItem.id} class="slds-m-around_small">
                        <c-todo-card onedittodo={handleEditTodo} todo-data={todoItem}></c-todo-card>
                    </div>
                </template>
              </lightning-layout-item>

              <lightning-layout-item class="slds-p-around_xx-small" size=4>
                <div class="slds-align_absolute-center"><lightning-badge label="In Progress" class="slds-theme_warning" icon-name="standard:event"></lightning-badge></div>
                <template for:each={inProgressTodos} for:item="todoItem">
                    <div key={todoItem.id} class="slds-m-around_small">
                        <c-todo-card onedittodo={handleEditTodo} todo-data={todoItem}></c-todo-card>
                    </div>
                </template>
              </lightning-layout-item>

              <lightning-layout-item class="slds-p-around_xx-small" size=4>
                <div class="slds-align_absolute-center"><lightning-badge label="Completed" class="slds-theme_success" icon-name="standard:event"></lightning-badge></div>
                <template for:each={completedTodos} for:item="todoItem">
                    <div key={todoItem.id} class="slds-m-around_small">
                        <c-todo-card onedittodo={handleEditTodo} todo-data={todoItem}></c-todo-card>
                    </div>
                </template>
              </lightning-layout-item>
          </lightning-layout>
        </lightning-layout-item>
      </lightning-layout>
</template>
